{% macro csv(list) %}
    {% for value in list %}
        {{ value }}{{ ", " if not loop.last }}
    {% endfor %}
{% endmacro %}

<tr>
    <th scope="row" class="col-md-1">
        {{ experiment.id }}
    </th>
    <td class="col-md-3">
        {{ experiment.name }}
    </td>
    <td class="col-md-1">
        {{ experiment.type }}
    </td>
    <td class="col-md-5" style="font-size: small;">
        {% if experiment.type != "MONROE" %}
            {% if experiment.automated %}
                <b>TestCases</b>: {{ csv(experiment.test_cases) }}
                {% if experiment.ues %}
                    <br><b>UEs</b>: {{ csv(experiment.ues) }}
                {% endif %}
            {% else %}
                Not automated
            {% endif %}
        {% else %}
            <b>Application</b>: {{ experiment.application }}
        {% endif %}
        <br>
        {% if experiment.slice %}
            <b>Slice</b>: {{ experiment.slice }}
        {% endif %}
        {% set nss = experiment.networkServicesRelation | count %}
        {% if nss > 0 %}
            {{ '- ' if experiment.slice }}{{ nss }} Network service{{ 's' if nss > 1 }}
        {% endif %}
    </td>
    <td class="col-md-2">
        <form id="formRun" method="post" novalidate>
            {{ formRun.hidden_tag() }}
            <input type="hidden" name="id" value="{{ experiment.id }}"/>
            <button type="submit" name="submit" class="btn btn-darkBlue btn-sm">Run</button>
            <a class="btn btn-blue btn-sm" href="/experiment/{{ experiment.id }}" role="button">History</a>
        </form>
    </td>
</tr>